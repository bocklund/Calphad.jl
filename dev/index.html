<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Calphad.jl</title><link rel="canonical" href="https://bocklund.github.io/Calphad.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Calphad.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/bocklund/Calphad.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Calphad"><a class="docs-heading-anchor" href="#Calphad">Calphad</a><a id="Calphad-1"></a><a class="docs-heading-anchor-permalink" href="#Calphad" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/bocklund/Calphad.jl">Calphad</a>.</p><ul><li><a href="#Calphad.cond_row_rhs-NTuple{5,Any}"><code>Calphad.cond_row_rhs</code></a></li><li><a href="#Calphad.get_Delta_y_mat-Tuple{Any,Any,Any}"><code>Calphad.get_Delta_y_mat</code></a></li><li><a href="#Calphad.get_N_A_row_rhs-NTuple{9,Any}"><code>Calphad.get_N_A_row_rhs</code></a></li><li><a href="#Calphad.get_N_row_rhs-NTuple{8,Any}"><code>Calphad.get_N_row_rhs</code></a></li><li><a href="#Calphad.get_stable_phase_row_rhs-NTuple{8,Any}"><code>Calphad.get_stable_phase_row_rhs</code></a></li><li><a href="#Calphad.get_x_A_row_rhs-NTuple{9,Any}"><code>Calphad.get_x_A_row_rhs</code></a></li><li><a href="#Calphad.unpack_indices-Tuple{Any,Any,Any}"><code>Calphad.unpack_indices</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Calphad.cond_row_rhs-NTuple{5,Any}" href="#Calphad.cond_row_rhs-NTuple{5,Any}"><code>Calphad.cond_row_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cond_row_rhs</code></pre><p>This function takes a condition symbol and dispatches on the correct method that condition that returns the elements in the row and the right hand side.</p><p>The number of columns are determined by the <code>fixed_free_terms</code> - there&#39;s one column for each free chemical potential, free potential, and free phase amount.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/_equilibrium_matrix_conditions.jl#L416-L424">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.get_Delta_y_mat-Tuple{Any,Any,Any}" href="#Calphad.get_Delta_y_mat-Tuple{Any,Any,Any}"><code>Calphad.get_Delta_y_mat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_Delta_y_mat</code></pre><p>Notationally, Δy is a vector of length(phase<em>record.site</em>fractions) that updates the site fractions. However in this case, we need to plug in the results from the solution vector that we do not have symbolic variables for. To resolve that, we&#39;ll design the site fractions to be a matrix that can be used to take the dot product with the solution vector (padded with a prefixed one to handle the c_iG term). The usage is therefore</p><p><strong>Examples</strong></p><pre><code class="language-none">delta_y_M = get_Delta_y_mat(prx, [&quot;A&quot;, &quot;B&quot;], [T, P, N_A, N_B])
# ... compute solution
soln = [3271.04833019, 7271.04833015, 1e-16]
delta_y = delta_y_M * vcat(1, soln...)</code></pre><p><strong>Equation</strong></p><p class="math-container">\[\sum_i \Delta y_i^\alpha = \sum_i \left(c_{iG}^\alpha + \sum_A c_{iA}^\alpha \mu_A + \sum_\mathrm{Pot} c_{i\mathrm{Pot}}^\alpha \Delta \mathrm{Pot} \right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/solver.jl#L124-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.get_N_A_row_rhs-NTuple{9,Any}" href="#Calphad.get_N_A_row_rhs-NTuple{9,Any}"><code>Calphad.get_N_A_row_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><p>get<em>N</em>A<em>row</em>rhs</p><p><strong>Examples</strong></p><pre><code class="language-none">using Symbolics
@variables T P N_A
@variables Y_BETA_A Y_BETA_B
G_BETA_A = 8000.0-10.0*T;
G_BETA_B = 12000.0-10.0*T;
G_BETA = Y_BETA_A*G_BETA_A + Y_BETA_B*G_BETA_B + R*T*(Y_BETA_A*log(Y_BETA_A) + Y_BETA_B*log(Y_BETA_B));
mass_BETA = [Y_BETA_A, Y_BETA_B];
state_variables = [P, T];
site_fractions = [Y_BETA_A, Y_BETA_B];
prx = PhaseRecord(&quot;BETA&quot;, G_BETA, mass_BETA, state_variables, site_fractions);

r, rrhs = get_N_A_row_rhs([prx], 1, N_A, [], [1, 2], [P, T], [], [], [1])</code></pre><p><strong>Equation</strong></p><p class="math-container">\[\sum_{B_{\mathrm{free}}} \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha}  c_{iB} \mu_B + \sum_\mathrm{Pot} \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha} c_{i\mathrm{Pot}} \Delta \mathrm{Pot} + \sum_\beta M_A^\beta \Delta \aleph^\beta  \\
= - \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha} c_{iG} - \sum_{B_{\mathrm{fixed}}} \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha}  c_{iB} \mu_B + \left( \sum_\alpha \aleph^\alpha M^\alpha_A - \tilde{N}_A \right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/_equilibrium_matrix_conditions.jl#L96-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.get_N_row_rhs-NTuple{8,Any}" href="#Calphad.get_N_row_rhs-NTuple{8,Any}"><code>Calphad.get_N_row_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_N_row_rhs</code></pre><p>See the function <code>get_N_A_row_rhs</code>. This is conceptually the same as an N_A condition with an inner loop over all the elements in each column.</p><p><strong>Equation</strong></p><p class="math-container">\[\sum_{B_{\mathrm{free}}} \sum_A \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha}  c_{iB} \mu_B
+ \sum_\mathrm{Pot} \sum_A \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha} c_{i\mathrm{Pot}} \Delta \mathrm{Pot}
+ \sum_\beta \sum_A M_A^\beta \Delta \aleph^\beta  \\
= \sum_A \left(- \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha} c_{iG} - \sum_{B_{\mathrm{fixed}}} \sum_\alpha \sum_i \aleph^\alpha \frac{\partial M_A^\alpha}{\partial y_i^\alpha}  c_{iB} \mu_B + \sum_\alpha \aleph^\alpha M^\alpha_A \right) - \tilde{N}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/_equilibrium_matrix_conditions.jl#L319-L333">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.get_stable_phase_row_rhs-NTuple{8,Any}" href="#Calphad.get_stable_phase_row_rhs-NTuple{8,Any}"><code>Calphad.get_stable_phase_row_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Examples</strong></p><pre><code class="language-none">srow, srhs = get_stable_phase_row_rhs([prx], 1, [], [1, 2], [P, T], [], [], [1])</code></pre><p><strong>Equation</strong></p><p class="math-container">\[\sum_{B_{\mathrm{free}}} M_B^\alpha \mu_B + \sum_\mathrm{Pot} -\frac{\partial G_M^\alpha}{\partial \mathrm{Pot}} \Delta \mathrm{Pot} + \sum_\beta 0 = G_M^\alpha + \sum_{B_{\mathrm{fixed}}} -M_B^\alpha \mu_B\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/_equilibrium_matrix_conditions.jl#L49-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.get_x_A_row_rhs-NTuple{9,Any}" href="#Calphad.get_x_A_row_rhs-NTuple{9,Any}"><code>Calphad.get_x_A_row_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_x_A_row_rhs</code></pre><p>See the function <code>get_N_A_row_rhs</code>. This is the corresponding mole fraction condition.</p><p><strong>Equation</strong></p><p class="math-container">\[% Free chemical potential columns (μ_B)
\sum_{B_{\mathrm{free}}} \sum_\alpha \sum_i \frac{\aleph^\alpha c_{iB}}{N} \left( \frac{\partial M_A^\alpha}{\partial y_i^\alpha} - x_A \sum_C \frac{\partial M_C^\alpha}{\partial y_i^\alpha} \right)  \mu_B &amp; \\
% Free potential columns (ΔP)
+ \sum_\mathrm{Pot} \sum_\alpha \sum_i \frac{\aleph^\alpha c_{i\mathrm{Pot}}}{N} \left( \frac{\partial M_A^\alpha}{\partial y_i^\alpha} - x_A \sum_C \frac{\partial M_C^\alpha}{\partial y_i^\alpha} \right)  \Delta \mathrm{Pot} &amp; \\
% Free phase amount columns (Δℵ)
+ \sum_{\beta_\mathrm{free}} \frac{1}{N} \left( M_A^\beta - x_A \sum_C M_C^\beta \right) \Delta \aleph^\beta &amp;
% Right-hand side (constant)
% c_iG
= - \sum_\alpha \sum_i \frac{\aleph^\alpha c_{iG}}{N} \left( \frac{\partial M_A^\alpha}{\partial y_i^\alpha} - x_A \sum_C \frac{\partial M_C^\alpha}{\partial y_i^\alpha} \right) \\
% Fixed chemical potentials
&amp; - \sum_{B_{\mathrm{fixed}}} \sum_\alpha \sum_i \frac{\aleph^\alpha c_{iB}}{N} \left( \frac{\partial M_A^\alpha}{\partial y_i^\alpha} - x_A \sum_C \frac{\partial M_C^\alpha}{\partial y_i^\alpha} \right)  \mu_B \\
% The term for the condition
&amp; + \left( x_A - \tilde{x}_A \right) \\\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/_equilibrium_matrix_conditions.jl#L188-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Calphad.unpack_indices-Tuple{Any,Any,Any}" href="#Calphad.unpack_indices-Tuple{Any,Any,Any}"><code>Calphad.unpack_indices</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Examples</strong></p><pre><code class="language-none">using Symbolics
@variables N P T N_A MU_B NP_ALPHA N
elements = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]
phases = [&quot;ALPHA&quot;, &quot;BETA&quot;, &quot;GAMMA&quot;]
condition_dict = Dict(
   N =&gt; 1.0,
   P =&gt; 101325.0,
   T =&gt; 300.0,
   N_A =&gt; 0.5,
   MU_B =&gt; -10000,
   NP_ALPHA =&gt; 0.8,
)
unpack_indices(elements, phases, condition_dict)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bocklund/Calphad.jl/blob/160af25a682fce392e0d288fb49e35e49e187c56/src/solver.jl#L5-L23">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 24 March 2021 20:13">Wednesday 24 March 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
